<?php 

namespace App\Bots\Centrum1_bot\Commands\UserCommands\VisaAndResidentPermit\Student;

use App\Bots\Centrum1_bot\Commands\UserCommands\LeaveContact\LeaveContact;
use Romanlazko\Telegram\App\BotApi;
use Romanlazko\Telegram\App\Commands\Command;
use Romanlazko\Telegram\App\Entities\Response;
use Romanlazko\Telegram\App\Entities\Update;

class IWantExtendMyStudyVisa extends Command
{
    public static $command = 'iwantextendmystudyvisa';

    public static $title = [
        'ru' => 'Ğ¥Ğ¾Ñ‡Ñƒ Ğ¿Ñ€Ğ¾Ğ´Ğ»Ğ¸Ñ‚ÑŒ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‡ĞµÑĞºÑƒÑ Ğ²Ğ¸Ğ·Ñƒ',
        'en' => 'I want to extend my study visa',
    ];

    public static $usage = ['iwantextendmystudyvisa'];

    protected $enabled = true;

    public function execute(Update $updates): Response
    {
        $this->getConversation()->update([
            'theme' => static::getTitle('ru'),
        ]);
        
        $buttons = BotApi::inlineKeyboard([
            [array(LeaveContact::getTitle('ru'), LeaveContact::$command, 'iwantextendmystudyvisa')],
            [array("ğŸ‘ˆ ĞĞĞ—ĞĞ”", Student::$command, '')],
        ], 'type');

        $text = implode("\n", [
            "ĞŸÑ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ²Ğ¸Ğ·Ñ‹ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ Ğ¸ÑÑ‚ĞµÑ‡ĞµĞ½Ğ¸Ñ ĞµĞµ ÑÑ€Ğ¾ĞºĞ°, Ğ·Ğ°ÑĞ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ° 90 Ğ´Ğ½ĞµĞ¹ Ğ´Ğ¾ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ¸ Ğ´Ğ¾ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ´Ğ½Ñ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ²Ğ¸Ğ·Ñ‹."."\n",
            "Ğ”Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ¸Ñ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ñ ÑƒÑ‡ĞµĞ±Ñ‹, Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğ¸, Ğ¼ĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ°Ñ ÑÑ‚Ñ€Ğ°Ñ…Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾ Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ğ¾Ğ¹ ÑĞ¾ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸."."\n",
            "Ğ Ğ°ÑÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ½Ğ¸Ğµ Ğ·Ğ°ÑĞ²ĞºĞ¸ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ·Ğ°Ğ½ÑÑ‚ÑŒ Ğ´Ğ¾ 60 Ğ´Ğ½ĞµĞ¹, Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ²Ğ°Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ·Ğ°Ñ€Ğ°Ğ½ĞµĞµ. ĞŸÑ€Ğ¸ ÑĞ¾Ğ±Ğ»ÑĞ´ĞµĞ½Ğ¸Ğ¸ Ğ²ÑĞµÑ… ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ±ĞµĞ· Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼. Ğ’ ÑĞ»ÑƒÑ‡Ğ°Ğµ Ğ¾Ñ‚ĞºĞ°Ğ·Ğ° Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ°Ğ¿ĞµĞ»Ğ»ÑÑ†Ğ¸Ñ."."\n",
            "*ĞÑƒĞ¶Ğ½Ğ° Ğ±Ğ¾Ğ»ĞµĞµ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ?*",
            "*ĞĞ¸Ğ¶Ğµ Ğ¾ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ, Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ°ÑˆĞ¸ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ñ Ğ²Ğ°Ğ¼Ğ¸ ÑĞ²ÑĞ·Ğ°Ğ»ÑÑ â˜ï¸*",
        ]);

        $data = [
            'text'          =>  $text,
            'chat_id'       =>  $updates->getChat()->getId(),
            'reply_markup'  =>  $buttons,
            'parse_mode'    =>  'Markdown',
            'message_id'    =>  $updates->getCallbackQuery()?->getMessage()->getMessageId(),
        ];

        return BotApi::returnInline($data);
    }
}